"use strict";(self.webpackChunknetwork_t=self.webpackChunknetwork_t||[]).push([[958],{2933:function(e,t,i){i.r(t),i.d(t,{default:function(){return z}});var n=i(9439),r=i(3076),s=i(7309),a=i(2825),o=i(7183),c=i(7689),u=i(1087),l=i(2791),g=i(3263),p=i(5635),d=i(451),h=i(184),f=function(e){var t=e.user,i=e.page,l=e.pageSize,f=(0,o.C)(g.H),x=(0,c.s0)(),S=(0,d.ov)(),Z=(0,n.Z)(S,1)[0],j="/profile/".concat(t.id),m=(0,p.Z)(),z=f&&f.id===t.id;return(0,h.jsx)(r.ZP.Item,{style:{minHeight:"73px"},actions:z?void 0:[(0,h.jsx)(s.ZP,{type:"primary",onClick:function(){f?m(Z({userId:t.id,isFollowed:t.followed,page:i,pageSize:l})):x("/login")},children:t.followed?"Unfollow":"Follow"})],children:(0,h.jsx)(r.ZP.Item.Meta,{avatar:(0,h.jsx)(a.Z,{src:t.photos.small,size:40},t.id),title:(0,h.jsx)(u.rU,{to:j,children:t.name}),description:t.status})})},x=(0,l.memo)(f),S=function(e){var t=e.users,i=e.page,n=e.pageSize,s=e.isFetching?{opacity:.5,transition:"opacity 0.3s"}:{opacity:1,transition:"opacity 0.3s"};return(0,h.jsx)(r.ZP,{itemLayout:"horizontal",dataSource:t,renderItem:function(e){return(0,h.jsx)(x,{user:e,page:i,pageSize:n})},style:s,"data-testid":"users-list"})},Z=i(5207),j=i(6399),m=i(4859),z=function(){var e=(0,u.lr)(),t=(0,n.Z)(e,2),i=t[0],r=t[1],s=Number(i.get("page"))||1,a=(0,l.useState)(s),o=(0,n.Z)(a,2),c=o[0],g=o[1],p=(0,l.useState)(20),f=(0,n.Z)(p,1)[0];(0,l.useEffect)((function(){c!==s&&g(s)}),[s,c]);var x=(0,d.zQ)({page:c,pageSize:f}),z=x.data,v=x.isLoading,y=x.isFetching,w=x.isSuccess,k=x.isError,C=x.error;return(0,h.jsx)(j.Z,{isError:k,isLoading:v,isSuccess:w,error:C,children:z&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(m.Z.BackTop,{style:{bottom:"100px"}}),(0,h.jsx)(S,{users:z.users,page:c,pageSize:f,isFetching:y}),(0,h.jsx)(Z.Z,{total:z.totalCount,pageSize:f,current:c,handler:function(e){g(e),r({page:e.toString(),count:f.toString()})}})]})})}},5207:function(e,t,i){var n=i(827),r=i(184);t.Z=function(e){var t=e.total,i=e.pageSize,s=e.current,a=e.handler;return(0,r.jsx)("div",{style:{textAlign:"center",marginTop:12,height:32,lineHeight:"32px"},children:(0,r.jsx)(n.Z,{total:t,pageSize:i,current:s,hideOnSinglePage:!0,onChange:function(e){a(e,i)},showSizeChanger:!1})})}}}]);
//# sourceMappingURL=958.8ce9de02.chunk.js.map