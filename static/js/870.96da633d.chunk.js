"use strict";(self.webpackChunknetwork_t=self.webpackChunknetwork_t||[]).push([[870],{64870:function(e,t,n){n.r(t),n.d(t,{default:function(){return L}});var r=n(68197),a=n(59624),s=n(1413),o=n(29439),i=n(47313),u=function(e){var t=(0,i.useState)(e),n=(0,o.Z)(t,2),r=n[0],a=n[1];return[r,function(e){e!==r&&a(e)}]},l=n(5670),c=n(6307),h=n(8007),g=n(53765),d=n(46417);var p=function(e){var t=e.url,n=e.title,r=e.author,a=e.publishedAt,s=e.sourceName,o=(0,g.Z)(new Date(a)),i="".concat(r||s,": ").concat(o," ago");return(0,d.jsx)(l.ZP.Item.Meta,{title:(0,d.jsx)("a",{href:t,target:"_blank",children:n}),description:i})},x=n(65924),f=n(38317),j=n(87428);var m=function(e){var t=e.query,n=e.sortBy,r=e.searchIn,a=e.sources,s=e.from,u=e.to,g=(0,i.useState)(1),m=(0,o.Z)(g,2),Z=m[0],v=m[1],y=(0,i.useState)(10),S=(0,o.Z)(y,1)[0],C=(0,j.rM)({q:t,pageSize:S,page:Z,language:"en",sortBy:n,searchIn:r,sources:a,from:s,to:u},{skip:t.length<3}),I=C.data,b=C.isSuccess,z=C.isError,B=C.error;return(0,d.jsxs)(d.Fragment,{children:[b&&(0,d.jsx)(l.ZP,{itemLayout:"vertical",size:"large",dataSource:I.articles,footer:(0,d.jsx)(c.Z,{total:I.totalResults,current:Z,pageSize:10,handler:function(e){v(e)}}),renderItem:function(e){return(0,d.jsxs)(l.ZP.Item,{extra:(0,d.jsx)(h.Z,{src:e.urlToImage,size:272,shape:"square"}),style:{padding:"8px 0"},children:[(0,d.jsx)(p,{title:e.title,url:e.url,author:e.author,publishedAt:e.publishedAt,sourceName:e.source.name}),e.content]},e.title)}}),z&&(0,d.jsx)(x.Z,{text:(0,f.P)(B)})]})},Z=n(46272),v=n(70685),y=n(83725),S=n(40765),C=n(94844),I=n(77761),b=C.Z.Text;var z=function(e){var t=e.heading,n=e.onChange,r=e.isMultiple,a=e.options,s=e.value;return(0,d.jsxs)(d.Fragment,{children:[t&&(0,d.jsxs)(b,{style:{display:"block",marginBottom:"4px"},children:[t,": "]}),(0,d.jsx)(I.Z,{mode:r?"multiple":void 0,value:s,onChange:n,style:{width:"200px",marginBottom:"16px"},options:a})]})},B=n(10658),k=n.n(B),w=function(e){return e.map((function(e){return{value:e,label:e.charAt(0).toUpperCase()+e.slice(1)}}))},P=w(j.IO),A=w(j.mo),D=Z.Z.RangePicker;var q=function(e){var t=e.query,n=e.onQueryChange,s=e.sortBy,u=e.onSortByChange,l=e.searchIn,c=e.onSearchInChange,h=e.searchInDefault,g=e.source,p=e.onSourceChange,x=e.setDateStrings,f=(0,i.useState)(null),m=(0,o.Z)(f,2),Z=m[0],C=m[1],I=(0,j.d6)({language:"en",country:"us"}),b=I.data,B=I.isLoading,w=I.isSuccess,q=(0,i.useMemo)((function(){if(w&&b)return b.sources.map((function(e){return{value:e.id,label:e.name}}))}),[b,w]);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(v.Z,{value:t,onChange:n,size:"large",placeholder:"Keywords or a phrase to search for",prefix:(0,d.jsx)(S.Z,{}),allowClear:!0,style:{marginBottom:"16px"}}),(0,d.jsxs)(r.Z,{gutter:16,style:{marginBottom:"36px"},children:[(0,d.jsxs)(a.Z,{span:8,children:[(0,d.jsx)(z,{heading:"Sort by",options:P,onChange:u,value:s}),(0,d.jsx)(D,{onChange:function(e,t){C(e),x(t)},value:Z,disabledDate:function(e){var t=k()().subtract(1,"month").startOf("day"),n=k()().endOf("day");return e&&(e<t||e>n)},allowEmpty:[!0,!0]})]}),(0,d.jsx)(a.Z,{span:8,children:(0,d.jsx)(z,{heading:"Search in",value:l,options:A,onChange:function(e){c(e.length?e:h)},isMultiple:!0})}),(0,d.jsxs)(a.Z,{span:8,children:[B&&(0,d.jsx)(y.Z.Input,{active:!0,style:{marginTop:"26px"}}),w&&(0,d.jsx)(z,{heading:"Sources",options:q,value:g,onChange:function(e){e.length>20||p(e)},isMultiple:!0})]})]})]})};var F=function(){var e=["title","description","content"],t=(0,i.useState)(""),n=(0,o.Z)(t,2),r=n[0],a=n[1],l=(0,i.useDeferredValue)(r),c=u("relevancy"),h=(0,o.Z)(c,2),g=h[0],p=h[1],x=u(e),f=(0,o.Z)(x,2),j=f[0],Z=f[1],v=u([]),y=(0,o.Z)(v,2),S=y[0],C=y[1],I=(0,i.useState)([]),b=(0,o.Z)(I,2),z=b[0],B={query:r,onQueryChange:function(e){return a(e.target.value)},sortBy:g,onSortByChange:p,searchIn:j,onSearchInChange:Z,searchInDefault:e,source:S,onSourceChange:C,setDateStrings:b[1]};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(q,(0,s.Z)({},B)),(0,d.jsx)(m,{query:l,sortBy:g,searchIn:j.toString(),sources:S.toString(),from:z[0],to:z[1]})]})},M=C.Z.Title;var T=function(){var e=u("general"),t=(0,o.Z)(e,2),n=t[0],r=t[1],a=(0,j.Li)({country:"us",category:n,pageSize:5,page:1}),s=a.data,i=a.isLoading,c=a.isFetching,h=a.isSuccess,g=a.isError,m=a.error;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(M,{level:2,children:"Top headlines"}),(0,d.jsx)(z,{options:w(j.bd),value:n,onChange:r}),(0,d.jsxs)(y.Z,{active:!0,loading:i,children:[h&&(0,d.jsx)(l.ZP,{itemLayout:"horizontal",dataSource:s.articles,size:"small",style:c?{opacity:.5}:void 0,renderItem:function(e){return(0,d.jsx)(l.ZP.Item,{style:{padding:"7px 0"},children:(0,d.jsx)(p,{title:e.title,url:e.url,author:e.author,publishedAt:e.publishedAt,sourceName:e.source.name})})}}),g&&(0,d.jsx)(x.Z,{text:(0,f.P)(m)})]})]})},L=function(){return(0,d.jsxs)(r.Z,{gutter:16,children:[(0,d.jsx)(a.Z,{span:6,children:(0,d.jsx)(T,{})}),(0,d.jsx)(a.Z,{span:18,children:(0,d.jsx)(F,{})})]})}},6307:function(e,t,n){var r=n(18151),a=n(46417);t.Z=function(e){var t=e.total,n=e.pageSize,s=e.current,o=e.handler;return(0,a.jsx)("div",{style:{textAlign:"center",marginTop:12,height:32,lineHeight:"32px"},children:(0,a.jsx)(r.Z,{total:t,pageSize:n,current:s,hideOnSinglePage:!0,onChange:function(e){o(e,n)},showSizeChanger:!1})})}}}]);