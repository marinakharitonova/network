"use strict";(self.webpackChunknetwork_t=self.webpackChunknetwork_t||[]).push([[580],{8580:function(e,t,s){s.r(t),s.d(t,{default:function(){return p}});var n=s(9439),r=s(2791),o=s(3076),a=s(2825),i=s(1087),u=s(184),l=function(e){var t=e.messages,s=e.onLoadCb;return(0,r.useEffect)((function(){s()}),[s]),(0,u.jsx)(o.ZP,{itemLayout:"horizontal",dataSource:t,split:!1,style:{},className:"chat-list",renderItem:function(e){return(0,u.jsx)(o.ZP.Item,{style:{padding:"0",margin:"10px"},children:(0,u.jsx)(o.ZP.Item.Meta,{avatar:(0,u.jsx)(i.rU,{to:"/profile/".concat(e.userId),children:(0,u.jsx)(a.Z,{src:e.photo,size:40})}),title:(0,u.jsx)(i.rU,{to:"/profile/".concat(e.userId),children:e.userName}),description:e.message})})}})},c=s(6641),d=s(8490),m=s(7309),f=function(e){var t=e.onMessageSend,s=d.Z.useForm(),o=(0,n.Z)(s,1)[0],a=(0,r.useState)({}),i=(0,n.Z)(a,2)[1];(0,r.useEffect)((function(){i({})}),[]);return(0,u.jsxs)(d.Z,{name:"newMessage",form:o,onFinish:function(e){t(e.message),o.resetFields()},autoComplete:"off",style:{marginTop:"auto"},children:[(0,u.jsx)(d.Z.Item,{name:"message",style:{marginBottom:"15px"},children:(0,u.jsx)(c.Z,{showCount:!0,maxLength:300,placeholder:"Type your message"})}),(0,u.jsx)(d.Z.Item,{shouldUpdate:!0,style:{marginBottom:0},children:function(){return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(m.ZP,{type:"primary",htmlType:"submit",disabled:!o.getFieldsValue(!0).message,children:"Send"})})}})]})},h=s(3385),x=s(2587),p=(0,h.Q)((function(){var e=(0,x.E0)(),t=e.data,s=e.isSuccess,o=(0,x.at)(),a=(0,n.Z)(o,1)[0],i=(0,r.useRef)(null);return(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{style:{marginBottom:"36px",minHeight:"500px",maxHeight:"500px",overflow:"auto",border:"1px solid #d9d9d9",borderRadius:"6px"},ref:i,children:s&&t.length>0&&(0,u.jsx)(l,{messages:t,onLoadCb:function(){if(null!=i.current&&s){var e=i.current.scrollHeight;i.current.scrollTo(0,e)}}})}),(0,u.jsx)(f,{onMessageSend:a})]})}))}}]);
//# sourceMappingURL=580.ebc3357e.chunk.js.map