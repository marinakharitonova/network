{"version":3,"file":"static/js/580.2d88e2b4.chunk.js","mappings":"uNAmCA,EAzBqB,SAAHA,GAAoD,IAA/CC,EAAQD,EAARC,SACnB,OACIC,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CACDC,WAAW,aACXC,WAAYJ,EACZK,OAAO,EACPC,MAAO,CAAC,EACRC,UAAW,YACXC,WAAY,SAAAC,GAAO,OACfR,EAAAA,EAAAA,KAACC,EAAAA,GAAAA,KAAS,CAACI,MAAO,CACdI,QAAS,IACTC,OAAQ,QACVC,UACEX,EAAAA,EAAAA,KAACC,EAAAA,GAAAA,KAAAA,KAAc,CACXW,QAAQZ,EAAAA,EAAAA,KAACa,EAAAA,GAAI,CAACC,GAAE,YAAAC,OAAcP,EAAQQ,QAASL,UAACX,EAAAA,EAAAA,KAACiB,EAAAA,EAAS,CAACC,IAAKV,EAAQW,MACbC,KAAM,OACjEC,OAAOrB,EAAAA,EAAAA,KAACa,EAAAA,GAAI,CAACC,GAAE,YAAAC,OAAcP,EAAQQ,QAASL,SAAEH,EAAQc,WACxDC,YAAaf,EAAQA,WAEjB,GAI5B,E,8BC0BA,EAnDuB,SAAHV,GAA4D,IAAvD0B,EAAa1B,EAAb0B,cACrBC,EAAeC,EAAAA,EAAAA,UAARC,GAAsBC,EAAAA,EAAAA,GAAAH,EAAA,GAAlB,GACXI,GAAwBC,EAAAA,EAAAA,UAAS,CAAC,GAAzBC,GAA2BH,EAAAA,EAAAA,GAAAC,EAAA,GAAhB,IAEpBG,EAAAA,EAAAA,YAAU,WACND,EAAY,CAAC,EACjB,GAAG,IAWH,OACIE,EAAAA,EAAAA,MAACP,EAAAA,EAAI,CACDQ,KAAK,aACLP,KAAMA,EACNQ,SAbS,SAACC,GACdZ,EAAcY,EAAO5B,SACrBmB,EAAKU,aACT,EAWQC,aAAa,MACbjC,MAAO,CAACkC,UAAW,QAAQ5B,SAAA,EAE3BX,EAAAA,EAAAA,KAAC0B,EAAAA,EAAAA,KAAS,CACNQ,KAAK,UACL7B,MAAO,CAACmC,aAAc,KAAK7B,UAE3BX,EAAAA,EAAAA,KAACyC,EAAAA,EAAQ,CAACC,WAAS,EAACC,UAAW,IAAKC,YAAa,yBAGrD5C,EAAAA,EAAAA,KAAC0B,EAAAA,EAAAA,KAAS,CAACmB,cAAY,EAACxC,MAAO,CAACmC,aAAc,GAAG7B,SAC5C,kBACGX,EAAAA,EAAAA,KAAA8C,EAAAA,SAAA,CAAAnC,UACIX,EAAAA,EAAAA,KAAC+C,EAAAA,GAAM,CACHC,KAAK,UACLC,SAAS,SACTC,UAxBZvB,EAAKwB,gBAAe,GAAM3C,QAwBYG,SAC7B,UAGF,MAOvB,E,oBC3BA,GAAeyC,EAAAA,EAAAA,IAxBF,WAET,IAAAC,GAA0BC,EAAAA,EAAAA,MAAnBC,EAAIF,EAAJE,KAAMC,EAASH,EAATG,UACbC,GAAsBC,EAAAA,EAAAA,MAAfC,GAAuC/B,EAAAA,EAAAA,GAAA6B,EAAA,GAA5B,GAElB,OAEIxB,EAAAA,EAAAA,MAAA,OAAAtB,SAAA,EACIX,EAAAA,EAAAA,KAAA,OAAKK,MAAO,CACRmC,aAAc,OACdoB,UAAW,QACXC,UAAW,QACXC,SAAU,OACVC,OAAQ,oBACRC,aAAc,OAChBrD,SACG6C,GAAaD,EAAKU,OAAS,IAAKjE,EAAAA,EAAAA,KAACkE,EAAY,CAACnE,SAAUwD,OAG7DvD,EAAAA,EAAAA,KAACmE,EAAc,CAAC3C,cAAemC,MAG3C,G","sources":["components/Main/Chat/MessagesList/MessagesList.tsx","components/Main/Chat/NewMessageForm/NewMessageForm.tsx","components/Main/Chat/Chat.tsx"],"sourcesContent":["import React from \"react\";\r\nimport {ChatMessage} from \"../../../../features/api/apiSlice\";\r\nimport {List} from \"antd\";\r\nimport AvatarApp from \"../../../AvatarApp/AvatarApp\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\ntype MessagesListProps = {\r\n    messages: ChatMessage[]\r\n}\r\n\r\nconst MessagesList = ({messages}: MessagesListProps): JSX.Element => {\r\n    return (\r\n        <List\r\n            itemLayout=\"horizontal\"\r\n            dataSource={messages}\r\n            split={false}\r\n            style={{}}\r\n            className={'chat-list'}\r\n            renderItem={message => (\r\n                <List.Item style={{\r\n                    padding: '0',\r\n                    margin: '10px',\r\n                }}>\r\n                    <List.Item.Meta\r\n                        avatar={<Link to={`/profile/${message.userId}`}><AvatarApp src={message.photo}\r\n                                                                                   size={40}/></Link>}\r\n                        title={<Link to={`/profile/${message.userId}`}>{message.userName}</Link>}\r\n                        description={message.message}\r\n                    />\r\n                </List.Item>\r\n            )}\r\n        />\r\n    )\r\n}\r\n\r\nexport default MessagesList","import TextArea from \"antd/es/input/TextArea\";\r\nimport {Button, Form} from \"antd\";\r\nimport {useEffect, useState} from \"react\";\r\n\r\ntype NewMessageFormProps = {\r\n    onMessageSend: (v: string) => void\r\n}\r\n\r\nconst NewMessageForm = ({onMessageSend} : NewMessageFormProps): JSX.Element => {\r\n    const [form] = Form.useForm();\r\n    const [, forceUpdate] = useState({});\r\n\r\n    useEffect(() => {\r\n        forceUpdate({});\r\n    }, []);\r\n\r\n    const onFinish = (values: any) => {\r\n        onMessageSend(values.message)\r\n        form.resetFields()\r\n    }\r\n\r\n    const isBtnDisabled = () => {\r\n        return !form.getFieldsValue(true).message\r\n    }\r\n\r\n    return (\r\n        <Form\r\n            name=\"newMessage\"\r\n            form={form}\r\n            onFinish={onFinish}\r\n            autoComplete=\"off\"\r\n            style={{marginTop: 'auto'}}\r\n        >\r\n            <Form.Item\r\n                name=\"message\"\r\n                style={{marginBottom: '0'}}\r\n            >\r\n                <TextArea showCount maxLength={300} placeholder={'Type your message'}/>\r\n            </Form.Item>\r\n\r\n            <Form.Item shouldUpdate style={{marginBottom: 0}}>\r\n                {() => (\r\n                    <>\r\n                        <Button\r\n                            type=\"primary\"\r\n                            htmlType=\"submit\"\r\n                            disabled={isBtnDisabled()}\r\n                        >\r\n                            Send\r\n                        </Button>\r\n                    </>\r\n\r\n                )}\r\n            </Form.Item>\r\n\r\n        </Form>\r\n    )\r\n}\r\n\r\nexport default NewMessageForm","import React from \"react\";\r\nimport MessagesList from \"./MessagesList/MessagesList\";\r\nimport NewMessageForm from \"./NewMessageForm/NewMessageForm\";\r\nimport {withAuth} from \"../../../hoc/withAuth\";\r\nimport {useGetMessagesQuery, useSendMessageMutation} from \"../../../features/chat/chatSlice\";\r\n\r\nconst Chat = (): JSX.Element => {\r\n\r\n    const {data, isSuccess} = useGetMessagesQuery()\r\n    const [sendMessage] = useSendMessageMutation()\r\n\r\n    return (\r\n\r\n        <div>\r\n            <div style={{\r\n                marginBottom: '36px',\r\n                minHeight: '500px',\r\n                maxHeight: '500px',\r\n                overflow: 'auto',\r\n                border: '1px solid #d9d9d9',\r\n                borderRadius: '6px'\r\n            }}>\r\n                {isSuccess && data.length > 0 && <MessagesList messages={data}/>}\r\n            </div>\r\n\r\n            <NewMessageForm onMessageSend={sendMessage}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withAuth(Chat)"],"names":["_ref","messages","_jsx","List","itemLayout","dataSource","split","style","className","renderItem","message","padding","margin","children","avatar","Link","to","concat","userId","AvatarApp","src","photo","size","title","userName","description","onMessageSend","_Form$useForm","Form","form","_slicedToArray","_useState","useState","forceUpdate","useEffect","_jsxs","name","onFinish","values","resetFields","autoComplete","marginTop","marginBottom","TextArea","showCount","maxLength","placeholder","shouldUpdate","_Fragment","Button","type","htmlType","disabled","getFieldsValue","withAuth","_useGetMessagesQuery","useGetMessagesQuery","data","isSuccess","_useSendMessageMutati","useSendMessageMutation","sendMessage","minHeight","maxHeight","overflow","border","borderRadius","length","MessagesList","NewMessageForm"],"sourceRoot":""}